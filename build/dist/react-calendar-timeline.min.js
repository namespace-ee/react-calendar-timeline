!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("moment"),require("interact")):"function"==typeof define&&define.amd?define(["React","moment","interact"],t):"object"==typeof exports?exports.ReactCalendarTimeline=t(require("React"),require("moment"),require("interact")):e.ReactCalendarTimeline=t(e.React,e.moment,e.interact)}(this,function(e,t,r){return function(e){function t(i){if(r[i])return r[i].exports;var o=r[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="build/dist/",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=i(o);t.default=n.default},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){var r=[],i=!0,o=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){o=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw n}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),d=r(2),c=i(d),h=r(3),f=i(h);r(4);var m=r(8),g=i(m),y=r(12),v=i(y),b=r(15),T=i(b),S=r(16),P=i(S),L=r(17),H=i(L),M=r(18),R=i(M),w=r(19),z=i(w),k=r(11),x={groupIdKey:"id",groupTitleKey:"title",itemIdKey:"id",itemTitleKey:"title",itemDivTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start_time",itemTimeEndKey:"end_time"},E={second:1,minute:1,hour:1,day:1,month:1,year:1},O=function(e){function t(e){n(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));C.call(r);var i=null,a=null;r.props.defaultTimeStart&&r.props.defaultTimeEnd?(i=r.props.defaultTimeStart.valueOf(),a=r.props.defaultTimeEnd.valueOf()):r.props.visibleTimeStart&&r.props.visibleTimeEnd?(i=r.props.visibleTimeStart,a=r.props.visibleTimeEnd):(i=Math.min.apply(Math,o(r.props.items.map(function(e){return(0,k._get)(e,"start").getTime()}))),a=Math.max.apply(Math,o(r.props.items.map(function(e){return(0,k._get)(e,"end").getTime()}))),i&&a||(i=(new Date).getTime()-6048e5,a=(new Date).getTime()+6048e5),r.props.onTimeInit&&r.props.onTimeInit(i,a)),r.state={width:1e3,visibleTimeStart:i,visibleTimeEnd:a,canvasTimeStart:i-(a-i),selectedItem:null,dragTime:null,dragGroupTitle:null,resizeTime:null,isDragging:!1,topOffset:0,resizingItem:null,resizingEdge:null};var p=r.stackItems(e.items,e.groups,r.state.canvasTimeStart,r.state.visibleTimeStart,r.state.visibleTimeEnd,r.state.width),u=p.dimensionItems,l=p.height,d=p.groupHeights,c=p.groupTops;return r.state.dimensionItems=u,r.state.height=l,r.state.groupHeights=d,r.state.groupTops=c,r}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.resize(),this.resizeEventListener={handleEvent:function(t){e.resize()}},window.addEventListener("resize",this.resizeEventListener),this.lastTouchDistance=null,this.refs.scrollComponent.addEventListener("touchstart",this.touchStart),this.refs.scrollComponent.addEventListener("touchmove",this.touchMove),this.refs.scrollComponent.addEventListener("touchend",this.touchEnd)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeEventListener),this.refs.scrollComponent.removeEventListener("touchstart",this.touchStart),this.refs.scrollComponent.removeEventListener("touchmove",this.touchMove),this.refs.scrollComponent.removeEventListener("touchend",this.touchEnd)}},{key:"resize",value:function(){var e=this.refs.container.getBoundingClientRect(),t=e.width,r=e.top,i=t-this.props.sidebarWidth,o=this.stackItems(this.props.items,this.props.groups,this.state.canvasTimeStart,this.state.visibleTimeStart,this.state.visibleTimeEnd,i),n=o.dimensionItems,s=o.height,a=o.groupHeights,p=o.groupTops;this.setState({width:i,topOffset:r+window.pageYOffset,dimensionItems:n,height:s,groupHeights:a,groupTops:p}),this.refs.scrollComponent.scrollLeft=i}},{key:"componentWillReceiveProps",value:function(e){var t=e.visibleTimeStart,r=e.visibleTimeEnd,i=e.items,o=e.groups;t&&r&&this.updateScrollCanvas(t,r,i!==this.props.items||o!==this.props.groups,i,o),i===this.props.items&&o===this.props.groups||this.updateDimensions(i,o)}},{key:"updateDimensions",value:function(e,t){var r=this.state,i=r.canvasTimeStart,o=r.visibleTimeStart,n=r.visibleTimeEnd,s=r.width,a=this.stackItems(e,t,i,o,n,s),p=a.dimensionItems,u=a.height,l=a.groupHeights,d=a.groupTops;this.setState({dimensionItems:p,height:u,groupHeights:l,groupTops:d})}},{key:"zoomIn",value:function(e){e.preventDefault(),this.changeZoom(.75)}},{key:"zoomOut",value:function(e){e.preventDefault(),this.changeZoom(1.25)}},{key:"changeZoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=this.props,i=r.minZoom,o=r.maxZoom,n=this.state.visibleTimeEnd-this.state.visibleTimeStart,s=Math.min(Math.max(Math.round(n*e),i),o),a=Math.round(this.state.visibleTimeStart+(n-s)*t);this.props.onTimeChange.bind(this)(a,a+s,this.updateScrollCanvas)}},{key:"rowAndTimeFromEvent",value:function(e){var t=this.props,r=t.lineHeight,i=t.dragSnap,o=this.state,n=o.width,s=o.visibleTimeStart,a=o.visibleTimeEnd,p=(0,k.getParentPosition)(e.currentTarget),u=e.clientX-p.x,l=e.clientY-p.y,d=Math.floor((l-2*r)/r),c=Math.round(s+u/n*(a-s));return c=Math.floor(c/i)*i,[d,c]}},{key:"todayLine",value:function(e,t,r,i,o,n,s){return c.default.createElement(z.default,{canvasTimeStart:e,canvasTimeEnd:r,canvasWidth:i,lineHeight:this.props.lineHeight,lineCount:(0,k._length)(this.props.groups),height:n,headerHeight:s})}},{key:"verticalLines",value:function(e,t,r,i,o,n,s,a){return c.default.createElement(H.default,{canvasTimeStart:e,canvasTimeEnd:r,canvasWidth:i,lineHeight:this.props.lineHeight,lineCount:(0,k._length)(this.props.groups),minUnit:o,timeSteps:n,fixedHeader:this.props.fixedHeader,height:s,headerHeight:a})}},{key:"horizontalLines",value:function(e,t,r,i,o,n){return c.default.createElement(R.default,{canvasWidth:i,lineHeight:this.props.lineHeight,lineCount:(0,k._length)(this.props.groups),groups:this.props.groups,groupHeights:o,headerHeight:n})}},{key:"items",value:function(e,t,r,i,o,n,s,a){return c.default.createElement(g.default,{canvasTimeStart:e,canvasTimeEnd:r,canvasWidth:i,lineHeight:this.props.lineHeight,lineCount:(0,k._length)(this.props.groups),dimensionItems:n,minUnit:o,groupHeights:s,groupTops:a,items:this.props.items,groups:this.props.groups,keys:this.props.keys,selectedItem:this.state.selectedItem,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,canChangeGroup:this.props.canChangeGroup,canMove:this.props.canMove,canResize:this.props.canResize,useResizeHandle:this.props.useResizeHandle,canSelect:this.props.canSelect,moveResizeValidator:this.props.moveResizeValidator,topOffset:this.state.topOffset,itemSelect:this.selectItem,itemDrag:this.dragItem,itemDrop:this.dropItem,onItemDoubleClick:this.props.onItemDoubleClick,onItemContextMenu:this.props.onItemContextMenu,itemResizing:this.resizingItem,itemResized:this.resizedItem})}},{key:"infoLabel",value:function(){var e=null;return this.state.dragTime?e=(0,f.default)(this.state.dragTime).format("LLL")+", "+this.state.dragGroupTitle:this.state.resizeTime&&(e=(0,f.default)(this.state.resizeTime).format("LLL")),e?c.default.createElement(v.default,{label:e}):""}},{key:"header",value:function(e,t,r,i,o,n,s,a){return c.default.createElement(P.default,u({canvasTimeStart:e,canvasTimeEnd:r,canvasWidth:i,lineHeight:this.props.lineHeight,minUnit:o,timeSteps:n,headerLabelGroupHeight:s,headerLabelHeight:a,width:this.state.width,zoom:t,visibleTimeStart:this.state.visibleTimeStart,visibleTimeEnd:this.state.visibleTimeEnd,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+1,showPeriod:this.showPeriod},this.props.subHeaderLabelFormats,this.props.headerLabelFormats))}},{key:"sidebar",value:function(e,t,r){return c.default.createElement(T.default,{groups:this.props.groups,keys:this.props.keys,width:this.props.sidebarWidth,lineHeight:this.props.lineHeight,groupHeights:t,height:e,headerHeight:r,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+2},this.props.children)}},{key:"stackItems",value:function e(t,r,i,o,n,s){var a=this.props,p=a.keys,u=a.dragSnap,l=a.lineHeight,d=a.headerLabelGroupHeight,c=a.headerLabelHeight,e=a.stackItems,h=a.fullUpdate,f=a.itemHeightRatio,m=this.state,g=m.draggingItem,y=m.dragTime,v=m.resizingItem,b=m.resizingEdge,T=m.resizeTime,S=m.newGroupOrder,P=n-o,L=i+3*P,H=3*s,M=d+c,R=(0,k.getVisibleItems)(t,i,L,p),w=(0,k.getGroupOrders)(r,p),z=R.map(function(e){return{id:(0,k._get)(e,p.itemIdKey),dimensions:(0,k.calculateDimensions)({item:e,order:w[(0,k._get)(e,p.itemGroupKey)],keys:p,canvasTimeStart:i,canvasTimeEnd:L,canvasWidth:H,dragSnap:u,lineHeight:l,draggingItem:g,dragTime:y,resizingItem:v,resizingEdge:b,resizeTime:T,newGroupOrder:S,itemHeightRatio:f,fullUpdate:h,visibleTimeStart:o,visibleTimeEnd:n})}}).filter(function(e){return e.dimensions}),x=e?k.stack:k.nostack,E=x(z,w,l,M),O=E.height,C=E.groupHeights,_=E.groupTops;return{dimensionItems:z,height:O,groupHeights:C,groupTops:_}}},{key:"render",value:function(){var e=this.props,t=e.items,r=e.groups,i=e.headerLabelGroupHeight,o=e.headerLabelHeight,n=e.sidebarWidth,s=e.timeSteps,a=this.state,p=a.draggingItem,u=a.resizingItem,l=a.isDragging,d=a.width,h=a.visibleTimeStart,f=a.visibleTimeEnd,m=a.canvasTimeStart,g=this.state,y=g.dimensionItems,v=g.height,b=g.groupHeights,T=g.groupTops,S=f-h,P=m+3*S,L=3*d,H=(0,k.getMinUnit)(S,d,s),M=i+o;if(p||u){var R=this.stackItems(t,r,m,h,f,d);y=R.dimensionItems,v=R.height,b=R.groupHeights,T=R.groupTops}var w={height:v+"px"},z={width:d+"px",height:v+20+"px",cursor:l?"move":"default"},x={width:L+"px",height:v+"px"};return c.default.createElement("div",{style:this.props.style,ref:"container",className:"react-calendar-timeline"},c.default.createElement("div",{style:w,className:"rct-outer"},n>0?this.sidebar(v,b,M):null,c.default.createElement("div",{ref:"scrollComponent",className:"rct-scroll",style:z,onScroll:this.onScroll,onWheel:this.onWheel,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp},c.default.createElement("div",{ref:"canvasComponent",className:"rct-canvas",style:x,onDoubleClick:this.handleDoubleClick},this.items(m,S,P,L,H,y,b,T),this.verticalLines(m,S,P,L,H,s,v,M),this.horizontalLines(m,S,P,L,b,M),this.todayLine(m,S,P,L,H,v,M),this.infoLabel(),this.header(m,S,P,L,H,s,i,o)))))}}]),t}(d.Component);O.propTypes={groups:d.PropTypes.oneOfType([d.PropTypes.array,d.PropTypes.object]).isRequired,items:d.PropTypes.oneOfType([d.PropTypes.array,d.PropTypes.object]).isRequired,sidebarWidth:d.PropTypes.number,dragSnap:d.PropTypes.number,minResizeWidth:d.PropTypes.number,fixedHeader:d.PropTypes.oneOf(["fixed","absolute","none"]),fullUpdate:d.PropTypes.bool,zIndexStart:d.PropTypes.number,lineHeight:d.PropTypes.number,headerLabelGroupHeight:d.PropTypes.number,headerLabelHeight:d.PropTypes.number,itemHeightRatio:d.PropTypes.number,minZoom:d.PropTypes.number,maxZoom:d.PropTypes.number,clickTolerance:d.PropTypes.number,canChangeGroup:d.PropTypes.bool,canMove:d.PropTypes.bool,canResize:d.PropTypes.oneOf([!0,!1,"left","right","both"]),useResizeHandle:d.PropTypes.bool,canSelect:d.PropTypes.bool,stackItems:d.PropTypes.bool,traditionalZoom:d.PropTypes.bool,itemTouchSendsClick:d.PropTypes.bool,onItemMove:d.PropTypes.func,onItemResize:d.PropTypes.func,onItemClick:d.PropTypes.func,onItemSelect:d.PropTypes.func,onCanvasClick:d.PropTypes.func,onItemDoubleClick:d.PropTypes.func,onItemContextMenu:d.PropTypes.func,onCanvasDoubleClick:d.PropTypes.func,moveResizeValidator:d.PropTypes.func,dayBackground:d.PropTypes.func,style:d.PropTypes.object,keys:d.PropTypes.object,timeSteps:d.PropTypes.object,defaultTimeStart:d.PropTypes.object,defaultTimeEnd:d.PropTypes.object,visibleTimeStart:d.PropTypes.number,visibleTimeEnd:d.PropTypes.number,onTimeChange:d.PropTypes.func,onTimeInit:d.PropTypes.func,onBoundsChange:d.PropTypes.func,children:d.PropTypes.node,subHeaderLabelFormats:d.PropTypes.shape({subHeaderLabelYearFormatShort:d.PropTypes.string,subHeaderLabelYearFormatLong:d.PropTypes.string,subHeaderLabelMonthFormatShort:d.PropTypes.string,subHeaderLabelMonthFormatMedium:d.PropTypes.string,subHeaderLabelMonthFormatLong:d.PropTypes.string,subHeaderLabelDayFormatShort:d.PropTypes.string,subHeaderLabelDayFormatMedium:d.PropTypes.string,subHeaderLabelDayFormatMediumLong:d.PropTypes.string,subHeaderLabelDayFormatLong:d.PropTypes.string,subHeaderLabelHourFormatShort:d.PropTypes.string,subHeaderLabelHourFormatLong:d.PropTypes.string,subHeaderLabelMinuteFormatShort:d.PropTypes.string,subHeaderLabelMinuteFormatLong:d.PropTypes.string}),headerLabelFormats:d.PropTypes.shape({headerLabelYearFormatShort:d.PropTypes.string,headerLabelYearFormatLong:d.PropTypes.string,headerLabelMonthFormatShort:d.PropTypes.string,headerLabelMonthFormatMedium:d.PropTypes.string,headerLabelMonthFormatMediumLong:d.PropTypes.string,headerLabelMonthFormatLong:d.PropTypes.string,headerLabelDayFormatShort:d.PropTypes.string,headerLabelDayFormatLong:d.PropTypes.string,headerLabelHourFormatShort:d.PropTypes.string,headerLabelHourFormatMedium:d.PropTypes.string,headerLabelHourFormatMediumLong:d.PropTypes.string,headerLabelHourFormatLong:d.PropTypes.string})},O.defaultProps={sidebarWidth:150,dragSnap:9e5,minResizeWidth:20,fixedHeader:"none",fullUpdate:!0,zIndexStart:10,lineHeight:30,headerLabelGroupHeight:30,headerLabelHeight:30,itemHeightRatio:.65,minZoom:36e5,maxZoom:15778368e4,clickTolerance:3,canChangeGroup:!0,canMove:!0,canResize:"right",useResizeHandle:!1,canSelect:!0,stackItems:!1,traditionalZoom:!1,onItemMove:null,onItemResize:null,onItemClick:null,onItemSelect:null,onCanvasClick:null,onItemDoubleClick:null,onItemContextMenu:null,moveResizeValidator:null,dayBackground:null,defaultTimeStart:null,defaultTimeEnd:null,itemTouchSendsClick:!1,style:{},keys:x,timeSteps:E,visibleTimeStart:null,visibleTimeEnd:null,onTimeChange:function(e,t,r){r(e,t)},onTimeInit:null,onBoundsChange:null,children:null,subHeaderLabelFormats:{subHeaderLabelYearFormatShort:"YY",subHeaderLabelYearFormatLong:"YYYY",subHeaderLabelMonthFormatShort:"MM",subHeaderLabelMonthFormatMedium:"MMM",subHeaderLabelMonthFormatLong:"MMMM",subHeaderLabelDayFormatShort:"D",subHeaderLabelDayFormatMedium:"dd D",subHeaderLabelDayFormatMediumLong:"ddd, Do",subHeaderLabelDayFormatLong:"dddd, Do",subHeaderLabelHourFormatShort:"h A",subHeaderLabelHourFormatLong:"h A",subHeaderLabelMinuteFormatShort:"mm",subHeaderLabelMinuteFormatLong:"h:mm A"},headerLabelFormats:{headerLabelYearFormatShort:"YY",headerLabelYearFormatLong:"YYYY",headerLabelMonthFormatShort:"MM/YY",headerLabelMonthFormatMedium:"MM/YYYY",headerLabelMonthFormatMediumLong:"MMM YYYY",headerLabelMonthFormatLong:"MMMM YYYY",headerLabelDayFormatShort:"L",headerLabelDayFormatLong:"dddd, LL",headerLabelHourFormatShort:"h A",headerLabelHourFormatMedium:"h A",headerLabelHourFormatMediumLong:"L, h A",headerLabelHourFormatLong:"dddd, LL, h A"}};var C=function(){var e=this;this.touchStart=function(t){if(2===t.touches.length)t.preventDefault(),e.lastTouchDistance=Math.abs(t.touches[0].screenX-t.touches[1].screenX),e.singleTouchStart=null,e.lastSingleTouch=null;else if(1===t.touches.length&&"fixed"===e.props.fixedHeader){t.preventDefault();var r=t.touches[0].clientX,i=t.touches[0].clientY;e.lastTouchDistance=null,e.singleTouchStart={x:r,y:i,screenY:window.pageYOffset},e.lastSingleTouch={x:r,y:i,screenY:window.pageYOffset}}},this.touchMove=function(t){if(e.state.dragTime||e.state.resizeTime)return void t.preventDefault();if(e.lastTouchDistance&&2===t.touches.length){t.preventDefault();var r=Math.abs(t.touches[0].screenX-t.touches[1].screenX),i=(0,k.getParentPosition)(t.currentTarget),o=(t.touches[0].screenX+t.touches[1].screenX)/2-i.x;0!==r&&0!==e.lastTouchDistance&&(e.changeZoom(e.lastTouchDistance/r,o/e.state.width),e.lastTouchDistance=r)}else if(e.lastSingleTouch&&1===t.touches.length&&"fixed"===e.props.fixedHeader){t.preventDefault();var n=t.touches[0].clientX,s=t.touches[0].clientY,a=n-e.lastSingleTouch.x,p=n-e.singleTouchStart.x,u=s-e.singleTouchStart.y;e.lastSingleTouch={x:n,y:s};var l=3*Math.abs(p)>Math.abs(u),d=3*Math.abs(u)>Math.abs(p);0!==a&&l&&(e.refs.scrollComponent.scrollLeft-=a),d&&window.scrollTo(window.pageXOffset,e.singleTouchStart.screenY-u)}},this.touchEnd=function(t){e.lastTouchDistance&&(t.preventDefault(),e.lastTouchDistance=null),e.lastSingleTouch&&(t.preventDefault(),e.lastSingleTouch=null,e.singleTouchStart=null)},this.onScroll=function(){var t=e.refs.scrollComponent,r=e.state.canvasTimeStart,i=t.scrollLeft,o=e.state.visibleTimeEnd-e.state.visibleTimeStart,n=e.state.width,s=r+o*i/n;i<.5*e.state.width&&(e.setState({canvasTimeStart:e.state.canvasTimeStart-o}),t.scrollLeft+=e.state.width),i>1.5*e.state.width&&(e.setState({canvasTimeStart:e.state.canvasTimeStart+o}),t.scrollLeft-=e.state.width),e.state.visibleTimeStart===s&&e.state.visibleTimeEnd===s+o||e.props.onTimeChange.bind(e)(s,s+o,e.updateScrollCanvas)},this.updateScrollCanvas=function(t,r,i,o,n){var s=e.state.canvasTimeStart,a=e.state.visibleTimeEnd-e.state.visibleTimeStart,p=r-t,u=o||e.props.items,l=n||e.props.groups,d=e.props.fullUpdate,c={visibleTimeStart:t,visibleTimeEnd:r},h=!1,f=t>=s+.5*a&&t<=s+1.5*a&&r>=s+1.5*a&&r<=s+2.5*a;if(f){var m=Math.round(e.state.width*(t-s)/p);e.refs.scrollComponent.scrollLeft!==m&&(h=!0)}else h=!0;if(h&&(c.canvasTimeStart=t-p,e.refs.scrollComponent.scrollLeft=e.state.width,e.props.onBoundsChange&&e.props.onBoundsChange(c.canvasTimeStart,c.canvasTimeStart+3*p)),h||i||d){var g=c.canvasTimeStart?c.canvasTimeStart:s,y=e.stackItems(u,l,g,t,r,e.state.width,d),v=y.dimensionItems,b=y.height,T=y.groupHeights,S=y.groupTops;c.dimensionItems=v,c.height=b,c.groupHeights=T,c.groupTops=S}e.setState(c)},this.onWheel=function(t){var r=e.props.traditionalZoom;if(t.ctrlKey){t.preventDefault();var i=(0,k.getParentPosition)(t.currentTarget),o=t.clientX-i.x;e.changeZoom(1+t.deltaY/50,o/e.state.width)}else if(t.shiftKey){t.preventDefault();var n=e.refs.scrollComponent;n.scrollLeft+=t.deltaY}else if(t.altKey){var s=(0,k.getParentPosition)(t.currentTarget),a=t.clientX-s.x;e.changeZoom(1+t.deltaY/500,a/e.state.width)}else if("fixed"===e.props.fixedHeader&&(t.preventDefault(),0!==t.deltaX&&(r||(e.refs.scrollComponent.scrollLeft+=t.deltaX)),0!==t.deltaY&&(window.scrollTo(window.pageXOffset,window.pageYOffset+t.deltaY),r))){var p=(0,k.getParentPosition)(t.currentTarget),u=t.clientX-p.x;e.changeZoom(1+t.deltaY/50,u/e.state.width)}},this.showPeriod=function(t,r){var i=t.valueOf(),o=(0,f.default)(t).add(1,r).valueOf(),n=o-i;if(!(n<36e4)){if("year"!==r&&e.state.visibleTimeStart===i&&e.state.visibleTimeEnd===o){var s=(0,k.getNextUnit)(r);i=t.startOf(s).valueOf(),o=(0,f.default)(i).add(1,s),n=o-i}e.props.onTimeChange.bind(e)(i,i+n,e.updateScrollCanvas)}},this.selectItem=function(t,r,i){e.state.selectedItem===t||e.props.itemTouchSendsClick&&"touch"===r?t&&e.props.onItemClick&&e.props.onItemClick(t,i):(e.setState({selectedItem:t}),t&&e.props.onItemSelect&&e.props.onItemSelect(t,i))},this.scrollAreaClick=function(t){if(!(0,k.hasSomeParentTheClass)(t.target,"rct-item"))if(e.state.selectedItem)e.selectItem(null);else if(e.props.onCanvasClick){var r=e.rowAndTimeFromEvent(t),i=p(r,2),o=i[0],n=i[1];if(o>=0&&o<e.props.groups.length){var s=(0,k._get)(e.props.groups[o],e.props.keys.groupIdKey);e.props.onCanvasClick(s,n,t)}}},this.dragItem=function(t,r,i){var o=e.props.groups[i],n=e.props.keys;e.setState({draggingItem:t,dragTime:r,newGroupOrder:i,dragGroupTitle:o?(0,k._get)(o,n.groupTitleKey):""})},this.dropItem=function(t,r,i){e.setState({draggingItem:null,dragTime:null,dragGroupTitle:null}),e.props.onItemMove&&e.props.onItemMove(t,r,i)},this.resizingItem=function(t,r,i){e.setState({resizingItem:t,resizingEdge:i,resizeTime:r})},this.resizedItem=function(t,r,i){e.setState({resizingItem:null,resizingEdge:null,resizeTime:null}),e.props.onItemResize&&e.props.onItemResize(t,r,i)},this.handleMouseDown=function(t){var r=e.state.topOffset,i=t.pageY,o=e.props,n=o.headerLabelGroupHeight,s=o.headerLabelHeight,a=n+s;i-r>a&&e.setState({isDragging:!0,dragStartPosition:t.pageX,dragLastPosition:t.pageX})},this.handleMouseMove=function(t){!e.state.isDragging||e.state.draggingItem||e.state.resizingItem||(e.refs.scrollComponent.scrollLeft+=e.state.dragLastPosition-t.pageX,e.setState({dragLastPosition:t.pageX}))},this.handleMouseUp=function(t){var r=e.state.dragStartPosition;Math.abs(r-t.pageX)<=e.props.clickTolerance&&e.scrollAreaClick(t),e.setState({isDragging:!1,dragStartPosition:null,dragLastPosition:null})},this.handleDoubleClick=function(t){var r=e.state,i=r.canvasTimeStart,o=r.width,n=r.visibleTimeStart,s=r.visibleTimeEnd,a=r.groupTops,p=r.topOffset,u=s-n,l=i+3*u,d=3*o,c=t.pageX,h=t.pageY,f=(l-i)/d,m=e.refs.scrollComponent.getBoundingClientRect(),g=n+f*(c-m.left);e.props.dragSnap&&(g=Math.round(g/e.props.dragSnap)*e.props.dragSnap);var y=0,v=!0,b=!1,T=void 0;try{for(var S,P=Object.keys(a)[Symbol.iterator]();!(v=(S=P.next()).done);v=!0){var L=S.value,H=a[L];if(!(h-p>H))break;y=parseInt(L,10)}}catch(e){b=!0,T=e}finally{try{!v&&P.return&&P.return()}finally{if(b)throw T}}e.props.onCanvasDoubleClick&&e.props.onCanvasDoubleClick(e.props.groups[y],g,t)}};t.default=O},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){},,,,function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(2),u=i(p),l=r(9),d=i(l),c=r(11),h=function(e,t){var r=void 0!==(0,c._get)(e,"canResize")?(0,c._get)(e,"canResize"):t;return"left"===r||"both"===r},f=function(e,t){var r=void 0!==(0,c._get)(e,"canResize")?(0,c._get)(e,"canResize"):t;return"right"===r||"both"===r||r===!0},m=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!((0,c.arraysEqual)(e.groups,this.props.groups)&&(0,c.arraysEqual)(e.items,this.props.items)&&e.keys===this.props.keys&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.selectedItem===this.props.selectedItem&&e.lineHeight===this.props.lineHeight&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.canChangeGroup===this.props.canChangeGroup&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize&&e.canSelect===this.props.canSelect&&e.dimensionItems===this.props.dimensionItems&&e.topOffset===this.props.topOffset)}},{key:"getGroupOrders",value:function(){for(var e=this.props.keys.groupIdKey,t={},r=0;r<this.props.groups.length;r++)t[(0,c._get)(this.props.groups[r],e)]=r;return t}},{key:"getVisibleItems",value:function(e,t,r){var i=this.props.keys,o=i.itemTimeStartKey,n=i.itemTimeEndKey;return this.props.items.filter(function(r){return(0,c._get)(r,o)<=t&&(0,c._get)(r,n)>=e})}},{key:"render",value:function(){var e=this,t=this.props,r=t.canvasTimeStart,i=t.canvasTimeEnd,o=t.dimensionItems,n=this.props.keys,s=n.itemIdKey,a=n.itemGroupKey,p=this.getGroupOrders(),l=this.getVisibleItems(r,i,p),m=(0,c.keyBy)(o,"id");return u.default.createElement("div",{className:"rct-items"},l.filter(function(e){return m[(0,c._get)(e,s)]}).map(function(t){return u.default.createElement(d.default,{key:(0,c._get)(t,s),item:t,keys:e.props.keys,order:p[(0,c._get)(t,a)],dimensions:m[(0,c._get)(t,s)].dimensions,selected:e.props.selectedItem===(0,c._get)(t,s),canChangeGroup:void 0!==(0,c._get)(t,"canChangeGroup")?(0,c._get)(t,"canChangeGroup"):e.props.canChangeGroup,canMove:void 0!==(0,c._get)(t,"canMove")?(0,c._get)(t,"canMove"):e.props.canMove,canResizeLeft:h(t,e.props.canResize),canResizeRight:f(t,e.props.canResize),canSelect:void 0!==(0,c._get)(t,"canSelect")?(0,c._get)(t,"canSelect"):e.props.canSelect,useResizeHandle:e.props.useResizeHandle,topOffset:e.props.topOffset,groupHeights:e.props.groupHeights,groupTops:e.props.groupTops,canvasTimeStart:e.props.canvasTimeStart,canvasTimeEnd:e.props.canvasTimeEnd,canvasWidth:e.props.canvasWidth,lineHeight:e.props.lineHeight,dragSnap:e.props.dragSnap,minResizeWidth:e.props.minResizeWidth,onResizing:e.props.itemResizing,onResized:e.props.itemResized,moveResizeValidator:e.props.moveResizeValidator,onDrag:e.props.itemDrag,onDrop:e.props.itemDrop,onItemDoubleClick:e.props.onItemDoubleClick,onContextMenu:e.props.onItemContextMenu,onSelect:e.props.itemSelect})}))}}]),t}(p.Component);m.propTypes={groups:p.PropTypes.oneOfType([p.PropTypes.array,p.PropTypes.object]).isRequired,items:p.PropTypes.oneOfType([p.PropTypes.array,p.PropTypes.object]).isRequired,canvasTimeStart:p.PropTypes.number.isRequired,canvasTimeEnd:p.PropTypes.number.isRequired,canvasWidth:p.PropTypes.number.isRequired,lineHeight:p.PropTypes.number.isRequired,dragSnap:p.PropTypes.number,minResizeWidth:p.PropTypes.number,selectedItem:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.number]),canChangeGroup:p.PropTypes.bool.isRequired,canMove:p.PropTypes.bool.isRequired,canResize:p.PropTypes.oneOf([!0,!1,"left","right","both"]),canSelect:p.PropTypes.bool,keys:p.PropTypes.object.isRequired,moveResizeValidator:p.PropTypes.func,itemSelect:p.PropTypes.func,itemDrag:p.PropTypes.func,itemDrop:p.PropTypes.func,itemResizing:p.PropTypes.func,itemResized:p.PropTypes.func,onItemDoubleClick:p.PropTypes.func,onItemContextMenu:p.PropTypes.func},m.defaultProps={},t.default=m},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),u=r(2),l=i(u),d=r(10),c=i(d),h=r(3),f=i(h),m=r(11),g=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onMouseDown=function(e){r.state.interactMounted||(e.preventDefault(),r.startedClicking=!0)},r.onMouseUp=function(e){!r.state.interactMounted&&r.startedClicking&&(r.startedClicking=!1,r.actualClick(e,"click"))},r.onTouchStart=function(e){r.state.interactMounted||(e.preventDefault(),r.startedTouching=!0)},r.onTouchEnd=function(e){!r.state.interactMounted&&r.startedTouching&&(r.startedTouching=!1,r.actualClick(e,"touch"))},r.handleDoubleClick=function(e){e.preventDefault(),e.stopPropagation(),r.props.onItemDoubleClick&&r.props.onItemDoubleClick(r.itemId,e)},r.handleContextMenu=function(e){r.props.onContextMenu&&(e.preventDefault(),e.stopPropagation(),r.props.onContextMenu(r.itemId,e))},r.cacheDataFromProps(e),r.state={interactMounted:!1,dragging:null,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:null,resizeEdge:null,resizeStart:null,resizeTime:null},r}return s(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e,t){var r=t.dragging!==this.state.dragging||t.dragTime!==this.state.dragTime||t.dragGroupDelta!==this.state.dragGroupDelta||t.resizing!==this.state.resizing||t.resizeTime!==this.state.resizeTime||e.keys!==this.props.keys||!(0,m.deepObjectCompare)(e.itemProps,this.props.itemProps)||e.selected!==this.props.selected||e.item!==this.props.item||e.canvasTimeStart!==this.props.canvasTimeStart||e.canvasTimeEnd!==this.props.canvasTimeEnd||e.canvasWidth!==this.props.canvasWidth||e.lineHeight!==this.props.lineHeight||e.order!==this.props.order||e.dragSnap!==this.props.dragSnap||e.minResizeWidth!==this.props.minResizeWidth||e.selected!==this.props.selected||e.canChangeGroup!==this.props.canChangeGroup||e.canSelect!==this.props.canSelect||e.topOffset!==this.props.topOffset||e.canMove!==this.props.canMove||e.canResizeLeft!==this.props.canResizeLeft||e.canResizeRight!==this.props.canResizeRight||e.dimensions!==this.props.dimensions;return r}},{key:"cacheDataFromProps",value:function(e){this.itemId=(0,m._get)(e.item,e.keys.itemIdKey),this.itemTitle=(0,m._get)(e.item,e.keys.itemTitleKey),this.itemDivTitle=e.keys.itemDivTitleKey?(0,m._get)(e.item,e.keys.itemDivTitleKey):this.itemTitle,this.itemTimeStart=(0,m._get)(e.item,e.keys.itemTimeStartKey),this.itemTimeEnd=(0,m._get)(e.item,e.keys.itemTimeEndKey)}},{key:"coordinateToTimeRatio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return(e.canvasTimeEnd-e.canvasTimeStart)/e.canvasWidth}},{key:"dragTimeSnap",value:function(e,t){var r=this.props.dragSnap;if(r){var i=t?60*(0,f.default)().utcOffset()*1e3:0;return Math.round(e/r)*r-i%r}return e}},{key:"resizeTimeSnap",value:function(e){var t=this.props.dragSnap;if(t){var r=this.itemTimeEnd%t;return Math.round((e-r)/t)*t+r}return e}},{key:"dragTime",value:function(e){var t=this.itemTimeStart;if(this.state.dragging){var r=e.pageX-this.state.dragStart.x,i=r*this.coordinateToTimeRatio();return this.dragTimeSnap(t+i,!0)}return t}},{key:"dragGroupDelta",value:function(e){var t=this.props,r=t.groupTops,i=t.order,o=t.topOffset;if(this.state.dragging){if(!this.props.canChangeGroup)return 0;var n=0,s=!0,a=!1,p=void 0;
try{for(var u,l=Object.keys(r)[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var d=u.value,c=r[d];if(!(e.pageY-o>c))break;n=parseInt(d,10)-i}}catch(e){a=!0,p=e}finally{try{!s&&l.return&&l.return()}finally{if(a)throw p}}return this.props.order+n<0?0-this.props.order:n}return 0}},{key:"resizeTimeDelta",value:function(e,t){var r=this.itemTimeEnd-this.itemTimeStart,i=this.dragTimeSnap((e.pageX-this.state.resizeStart)*this.coordinateToTimeRatio());return r+("left"===t?-i:i)<(this.props.dragSnap||1e3)?"left"===t?r-(this.props.dragSnap||1e3):(this.props.dragSnap||1e3)-r:i}},{key:"componentDidMount",value:function(){}},{key:"mountInteract",value:function(){var e=this,t=!this.props.useResizeHandle||this.refs.dragLeft,r=!this.props.useResizeHandle||this.refs.dragRight;(0,c.default)(this.refs.item).resizable({edges:{left:this.canResizeLeft()&&t,right:this.canResizeRight()&&r,top:!1,bottom:!1},enabled:this.props.selected&&(this.canResizeLeft()||this.canResizeRight())}).draggable({enabled:this.props.selected}).on("dragstart",function(t){return!!e.props.selected&&void e.setState({dragging:!0,dragStart:{x:t.pageX,y:t.pageY},preDragPosition:{x:t.target.offsetLeft,y:t.target.offsetTop},dragTime:e.itemTimeStart,dragGroupDelta:0})}).on("dragmove",function(t){if(e.state.dragging){var r=e.dragTime(t),i=e.dragGroupDelta(t);e.props.moveResizeValidator&&(r=e.props.moveResizeValidator("move",e.props.item,r)),e.props.onDrag&&e.props.onDrag(e.itemId,r,e.props.order+i),e.setState({dragTime:r,dragGroupDelta:i})}}).on("dragend",function(t){if(e.state.dragging){if(e.props.onDrop){var r=e.dragTime(t);e.props.moveResizeValidator&&(r=e.props.moveResizeValidator("move",e.props.item,r)),e.props.onDrop(e.itemId,r,e.props.order+e.dragGroupDelta(t))}e.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null})}}).on("resizestart",function(t){return!!e.props.selected&&void e.setState({resizing:!0,resizeEdge:null,resizeStart:t.pageX,resizeTime:0})}).on("resizemove",function(t){if(e.state.resizing){var r=e.state.resizeEdge;r||(r=0!==t.deltaRect.left?"left":"right",e.setState({resizeEdge:r}));var i="left"===r?e.itemTimeStart:e.itemTimeEnd,o=e.resizeTimeSnap(i+e.resizeTimeDelta(t,r));e.props.moveResizeValidator&&(o=e.props.moveResizeValidator("resize",e.props.item,o,r)),e.props.onResizing&&e.props.onResizing(e.itemId,o,r),e.setState({resizeTime:o})}}).on("resizeend",function(t){if(e.state.resizing){var r=e.state.resizeEdge,i="left"===r?e.itemTimeStart:e.itemTimeEnd,o=e.resizeTimeSnap(i+e.resizeTimeDelta(t,r));e.props.moveResizeValidator&&(o=e.props.moveResizeValidator("resize",e.props.item,o,r)),e.props.onResized&&0!==e.resizeTimeDelta(t,r)&&e.props.onResized(e.itemId,o,r),e.setState({resizing:null,resizeStart:null,resizeEdge:null,resizeTime:null})}}).on("tap",function(t){e.actualClick(t,"mouse"===t.pointerType?"click":"touch")}),this.setState({interactMounted:!0})}},{key:"canResizeLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!e.canResizeLeft||e.dimensions.clippedLeft)return!1;var t=parseInt(e.dimensions.width,10);return t>=e.minResizeWidth}},{key:"canResizeRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!e.canResizeRight||e.dimensions.clippedRight)return!1;var t=parseInt(e.dimensions.width,10);return t>=e.minResizeWidth}},{key:"canMove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return!!e.canMove}},{key:"componentWillReceiveProps",value:function(e){this.cacheDataFromProps(e);var t=this.state.interactMounted,r=this.props.selected&&this.canMove(this.props),i=this.props.selected&&this.canResizeLeft(this.props),o=this.props.selected&&this.canResizeRight(this.props),n=e.selected&&this.canMove(e),s=e.selected&&this.canResizeLeft(e),a=e.selected&&this.canResizeRight(e);if(e.selected&&!t&&(this.mountInteract(),t=!0),t&&(i!==s||o!==a)){var p=!this.props.useResizeHandle||this.refs.dragLeft,u=!this.props.useResizeHandle||this.refs.dragRight;(0,c.default)(this.refs.item).resizable({enabled:s||a,edges:{top:!1,bottom:!1,left:s&&p,right:a&&u}})}t&&r!==n&&(0,c.default)(this.refs.item).draggable({enabled:n})}},{key:"actualClick",value:function(e,t){this.props.canSelect&&this.props.onSelect&&this.props.onSelect(this.itemId,t,e)}},{key:"render",value:function(){var e=this.props.dimensions;if("undefined"==typeof this.props.order||null===this.props.order)return null;var t="rct-item"+(this.props.selected?" selected":"")+(this.canMove(this.props)?" can-move":"")+(this.canResizeLeft(this.props)||this.canResizeRight(this.props)?" can-resize":"")+(this.canResizeLeft(this.props)?" can-resize-left":"")+(this.canResizeRight(this.props)?" can-resize-right":"")+(this.props.item.className?" "+this.props.item.className:"")+(e.clippedLeft?" clipped-left":"")+(e.clippedRight?" clipped-right":""),r={left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px",lineHeight:e.height+"px"};return l.default.createElement("div",a({},this.props.item.itemProps,{key:this.itemId,ref:"item",className:t,title:this.itemDivTitle,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,style:r}),this.props.useResizeHandle?l.default.createElement("div",{ref:"dragLeft",className:"rct-drag-left"}):"",l.default.createElement("div",{className:"rct-item-overflow"},l.default.createElement("div",{className:"rct-item-content"},this.itemTitle)),this.props.useResizeHandle?l.default.createElement("div",{ref:"dragRight",className:"rct-drag-right"}):"")}}]),t}(u.Component);g.propTypes={},g.defaultProps={selected:!1},t.default=g},function(e,t){e.exports=r},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return"function"==typeof e.get?e.get(t):e[t]}function n(e){return"function"==typeof e.count?e.count():e.length}function s(e,t){return n(e)===n(t)&&e.every(function(e,r){return e===o(t,r)})}function a(e,t,r,i,o){var n=(0,M.default)(e).startOf(r);if(i[r]&&i[r]>1){var s=n.get(r);n.set(r,s-s%i[r])}for(;n.valueOf()<t;){var a=(0,M.default)(n).add(i[r]||1,r+"s");o(n,a),n=a}}function p(e,t,r){var i={second:1e3,minute:60,hour:60,day:24,month:30,year:12},o="year",n=e,s=17;return Object.keys(i).some(function(e){n/=i[e];var a=n/r[e],p=t/(r[e]&&r[e]>1?3*s:s);if(a<p)return o=e,!0}),o}function u(e){var t={second:"minute",minute:"hour",hour:"day",day:"month",month:"year"};return t[e]||""}function l(e){for(var t=0,r=0,i=!0;e;)t+=e.offsetLeft-(i?0:e.scrollLeft)+e.clientLeft,r+=e.offsetTop-(i?0:e.scrollTop)+e.clientTop,e=e.offsetParent,i=!1;return{x:t,y:r}}function d(e,t,r){return(t-e)/r}function c(e){var t=e.item,r=e.order,i=e.keys,n=e.canvasTimeStart,s=e.canvasTimeEnd,a=e.canvasWidth,p=e.dragSnap,u=e.lineHeight,l=e.draggingItem,c=e.dragTime,h=e.resizingItem,f=e.resizingEdge,m=e.resizeTime,g=e.newGroupOrder,y=e.itemHeightRatio,v=e.fullUpdate,b=e.visibleTimeStart,T=e.visibleTimeEnd,S=o(t,i.itemIdKey),P=o(t,i.itemTimeStartKey),L=o(t,i.itemTimeEndKey),H=S===l,M=S===h,R=M&&"left"===f?m:P,w=M&&"right"===f?m:L,z=H?c:R,k=Math.max(w-R,p),x=R,E=k;H&&(P>=c?(x=c,E=Math.max(L-c,p)):E=Math.max(c-P+k,p));var O=!1,C=!1;if(v){if(!H&&(b>z+k||T<z))return null;b>z&&(k-=b-z,z=b,H&&k<0&&(z+=k,k=0),O=!0),z+k>T&&(k-=z+k-T,C=!0)}var _=1/d(n,s,a),I=u*y,D={left:(z-n)*_,top:null,width:Math.max(k*_,3),height:I,order:H?g:r,stack:!0,collisionLeft:x,originalLeft:P,collisionWidth:E,lineHeight:u,isDragging:H,clippedLeft:O,clippedRight:C};return D}function h(e,t){for(var r=t.groupIdKey,i={},n=0;n<e.length;n++)i[o(e[n],r)]=n;return i}function f(e,t,r,i){var n=i.itemTimeStartKey,s=i.itemTimeEndKey;return e.filter(function(e){return o(e,n)<=r&&o(e,s)>=t})}function m(e,t,r){var i=0;return e.collisionLeft+R<t.collisionLeft+t.collisionWidth&&e.collisionLeft+e.collisionWidth-R>t.collisionLeft&&e.top-i+R<t.top+t.height&&e.top+e.height+i-R>t.top}function g(e,t,r,i,o){var n,s,a=i,p={},u={},l=b(e,function(e){return e.dimensions.order});if(o)for(n=0,s=e.length;n<s;n++)e[n].dimensions.top=null;var d=!0,c=!1,h=void 0;try{for(var f,g=Object.keys(t)[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var y=f.value,v=t[y],T=l[v]||[];u[v]=a;var S=0,P=0;for(n=0,s=T.length;n<s;n++){var L=T[n];if(P=L.dimensions.lineHeight-L.dimensions.height,L.dimensions.stack&&null===L.dimensions.top){L.dimensions.top=a+P,S=Math.max(S,L.dimensions.lineHeight);do{for(var H=null,M=0,R=T.length;M<R;M++){var w=T[M];if(null!==w.top&&w!==L&&w.dimensions.stack&&m(L.dimensions,w.dimensions,L.dimensions.lineHeight)){H=w;break}}null!=H&&(L.dimensions.top=H.dimensions.top+H.dimensions.lineHeight,S=Math.max(S,L.dimensions.top+L.dimensions.height-a))}while(H)}}p[v]=Math.max(S+P,r),a+=Math.max(S+P,r)}}catch(e){c=!0,h=e}finally{try{!d&&g.return&&g.return()}finally{if(c)throw h}}return{height:a,groupHeights:p,groupTops:u}}function y(e,t,r,i,o){var n,s,a=i,p={},u={},l=b(e,function(e){return e.dimensions.order});if(o)for(n=0,s=e.length;n<s;n++)e[n].dimensions.top=null;var d=!0,c=!1,h=void 0;try{for(var f,m=Object.keys(t)[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var g=f.value,y=t[g],v=l[y]||[];u[y]=a;var T=0;for(n=0,s=v.length;n<s;n++){var S=v[n],P=(S.dimensions.lineHeight-S.dimensions.height)/2;null===S.dimensions.top&&(S.dimensions.top=a+P,T=Math.max(T,S.dimensions.lineHeight))}p[y]=Math.max(T,r),a+=Math.max(T,r)}}catch(e){c=!0,h=e}finally{try{!d&&m.return&&m.return()}finally{if(c)throw h}}return{height:a,groupHeights:p,groupTops:u}}function v(e,t){var r={};return e.forEach(function(e,i,o){r[e[t]]=e}),r}function b(e,t){var r={};return e.forEach(function(e,i,o){var n=t(e);r[n]||(r[n]=[]),r[n].push(e)}),r}function T(e,t){return!!(e.className&&e.className.split(" ").indexOf(t)>=0)||e.parentNode&&T(e.parentNode,t)}function S(e,t,r,i){return i?r&&t!==r?"repeating-linear-gradient(to bottom, "+(t+",")+(t+" "+(e-1)+"px,")+(i+" "+(e-1)+"px,")+(i+" "+e+"px,")+(r+" "+e+"px,")+(r+" "+(2*e-1)+"px,")+(i+" "+(2*e-1)+"px,")+(i+" "+2*e+"px")+")":"repeating-linear-gradient(to bottom, "+(t+",")+(t+" "+(e-1)+"px,")+(i+" "+(e-1)+"px,")+(i+" "+e+"px")+")":r&&t!==r?"repeating-linear-gradient(to bottom,"+t+","+t+" "+e+"px,"+r+" "+e+"px,"+r+" "+2*e+"px)":t}function P(e,t){for(var r in e){if(e.hasOwnProperty(r)!==t.hasOwnProperty(r))return!1;switch(L(e[r])){case"object":if(!Object.compare(e[r],t[r]))return!1;break;case"function":if("undefined"==typeof t[r]||"compare"!==r&&e[r].toString()!==t[r].toString())return!1;break;default:if(e[r]!==t[r])return!1}}for(var i in t)if("undefined"==typeof e[i])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t._get=o,t._length=n,t.arraysEqual=s,t.iterateTimes=a,t.getMinUnit=p,t.getNextUnit=u,t.getParentPosition=l,t.coordinateToTimeRatio=d,t.calculateDimensions=c,t.getGroupOrders=h,t.getVisibleItems=f,t.collision=m,t.stack=g,t.nostack=y,t.keyBy=v,t.groupBy=b,t.hasSomeParentTheClass=T,t.createGradientPattern=S,t.deepObjectCompare=P;var H=r(3),M=i(H),R=.001},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(2),u=i(p),l=r(13),d=i(l),c=function(e){function t(){var e,r,i,s;o(this,t);for(var a=arguments.length,p=Array(a),u=0;u<a;u++)p[u]=arguments[u];return r=i=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),i.shouldComponentUpdate=d.default,s=r,n(i,s)}return s(t,e),a(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"rct-infolabel"},this.props.label)}}]),t}(p.Component);t.default=c,c.propTypes={label:u.default.PropTypes.string.isRequired},c.defaultProps={label:""}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return!(0,s.default)(this.props,e)||!(0,s.default)(this.state,t)}t.__esModule=!0,t.default=o;var n=r(14),s=i(n);e.exports=t.default},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),n=0;n<r.length;n++)if(!o(r[n])||e[r[n]]!==t[r[n]])return!1;return!0}t.__esModule=!0,t.default=r,e.exports=t.default},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(2),u=i(p),l=r(11),d=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={scrollTop:0,componentTop:0},r}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!("absolute"!==e.fixedHeader||!window||!window.document||this.state.scrollTop===t.scrollTop)||!((0,l.arraysEqual)(e.groups,this.props.groups)&&e.keys===this.props.keys&&e.width===this.props.width&&e.lineHeight===this.props.lineHeight&&e.fixedHeader===this.props.fixedHeader&&e.zIndex===this.props.zIndex&&e.groupHeights===this.props.groupHeights&&e.height===this.props.height)}},{key:"scroll",value:function e(t){if("absolute"===this.props.fixedHeader&&window&&window.document){var e=window.document.body.scrollTop;this.setState({scrollTop:e})}}},{key:"setComponentTop",value:function(){var e=this.refs.sidebar.getBoundingClientRect();this.setState({componentTop:e.top})}},{key:"componentDidMount",value:function(){var e=this;this.setComponentTop(),this.scroll(),this.scrollEventListener={handleEvent:function(t){e.scroll()}},window.addEventListener("scroll",this.scrollEventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEventListener)}},{key:"componentWillReceiveProps",value:function(){this.setComponentTop()}},{key:"render",value:function(){var e=this.props,t=e.fixedHeader,r=e.width,i=e.lineHeight,o=e.zIndex,n=e.groupHeights,s=e.height,a=e.headerHeight,p=this.props.keys,d=p.groupIdKey,c=p.groupTitleKey,h=this.state.scrollTop,f={width:r+"px",height:s+"px"},m={height:a+"px",lineHeight:i+"px",width:r+"px"},g={width:r+"px"};if("fixed"===t)m.position="fixed",m.zIndex=o,g.paddingTop=m.height;else if("absolute"===t){var y=this.state.componentTop;h>=y&&(m.position="absolute",m.top=h-y+"px",m.left="0",g.paddingTop=m.height)}var v=u.default.createElement("div",{ref:"sidebarHeader",className:"rct-sidebar-header",style:m},this.props.children),b=[],T=0;return this.props.groups.forEach(function(e,t){var r={height:n[t]-1+"px",lineHeight:n[t]-1+"px"};b.push(u.default.createElement("div",{key:(0,l._get)(e,d),className:"rct-sidebar-row"+(T%2===0?" rct-sidebar-row-even":" rct-sidebar-row-odd"),style:r},(0,l._get)(e,c))),T+=1}),u.default.createElement("div",{ref:"sidebar",className:"rct-sidebar",style:f},v,u.default.createElement("div",{style:g},b))}}]),t}(p.Component);t.default=d,d.propTypes={groups:u.default.PropTypes.oneOfType([u.default.PropTypes.array,u.default.PropTypes.object]).isRequired,width:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,zIndex:u.default.PropTypes.number,fixedHeader:u.default.PropTypes.oneOf(["fixed","absolute","none"]),keys:u.default.PropTypes.object.isRequired,children:u.default.PropTypes.node},d.defaultProps={fixedHeader:"none",zIndex:12,children:null}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(2),u=i(p),l=r(3),d=i(l),c=r(11),h=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.periodClick=function(e){var t=e.target.dataset,i=t.time,o=t.unit;i&&o&&r.props.showPeriod((0,d.default)(i-0),o)},r.touchStart=function(e){1===e.touches.length&&r.setState({touchTarget:e.target||e.touchTarget,touchActive:!0})},r.touchEnd=function(e){if(!r.state.touchActive)return r.resetTouchState();var t=e.changedTouches[0];if(t){var i=document.elementFromPoint(t.pageX,t.pageY);if(i!==r.state.touchTarget)return r.resetTouchState()}r.resetTouchState(),r.periodClick(e)},r.state={scrollTop:0,componentTop:0,touchTarget:null,touchActive:!1},r}return s(t,e),a(t,[{key:"scroll",value:function e(t){if("absolute"===this.props.fixedHeader&&window&&window.document){var e=window.document.body.scrollTop;this.setState({scrollTop:e})}}},{key:"setComponentTop",value:function(){var e=this.refs.header.getBoundingClientRect();this.setState({componentTop:e.top})}},{key:"componentDidMount",value:function(){var e=this;this.setComponentTop(),this.scroll(),this.scrollEventListener={handleEvent:function(t){e.scroll()}},window.addEventListener("scroll",this.scrollEventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEventListener)}},{key:"componentWillReceiveProps",value:function(){this.setComponentTop()}},{key:"headerLabel",value:function(e,t,r){if("year"===t){var i=this.props,o=i.headerLabelYearFormatShort,n=i.headerLabelYearFormatLong;return e.format(r<46?o:n)}if("month"===t){var s=this.props,a=s.headerLabelMonthFormatShort,p=s.headerLabelMonthFormatMedium,u=s.headerLabelMonthFormatMediumLong,l=s.headerLabelMonthFormatLong;return e.format(r<65?a:r<75?p:r<120?u:l)}if("day"===t){var d=this.props,c=d.headerLabelDayFormatShort,h=d.headerLabelDayFormatLong;return e.format(r<150?c:h)}if("hour"===t){var f=this.props,m=f.headerLabelHourFormatShort,g=f.headerLabelHourFormatMedium,y=f.headerLabelHourFormatMediumLong,v=f.headerLabelHourFormatLong;return e.format(r<50?m:r<130?g:r<150?y:v)}return e.format("LLL")}},{key:"subHeaderLabel",value:function(e,t,r){if("year"===t){var i=this.props,o=i.subHeaderLabelYearFormatShort,n=i.subHeaderLabelYearFormatLong;return e.format(r<46?o:n)}if("month"===t){var s=this.props,a=s.subHeaderLabelMonthFormatShort,p=s.subHeaderLabelMonthFormatMedium,u=s.subHeaderLabelMonthFormatLong;return e.format(r<37?a:r<85?p:u)}if("day"===t){var l=this.props,d=l.subHeaderLabelDayFormatShort,c=l.subHeaderLabelDayFormatMedium,h=l.subHeaderLabelDayFormatMediumLong,f=l.subHeaderLabelDayFormatLong;return e.format(r<47?d:r<80?c:r<120?h:f)}if("hour"===t){var m=this.props,g=m.subHeaderLabelHourFormatShort,y=m.subHeaderLabelHourFormatLong;return e.format(r<50?g:y)}if("minute"===t){var v=this.props,b=v.subHeaderLabelMinuteFormatShort,T=v.subHeaderLabelMinuteFormatLong;return e.format(r<60?b:T)}return e.get(t)}},{key:"resetTouchState",value:function(){this.setState({touchTarget:null,touchActive:!1})}},{key:"render",value:function(){var e=this,t=[],r=this.props,i=r.canvasTimeStart,o=r.canvasTimeEnd,n=r.canvasWidth,s=r.lineHeight,a=r.visibleTimeStart,p=r.visibleTimeEnd,l=r.minUnit,d=r.timeSteps,h=r.fixedHeader,f=r.headerLabelGroupHeight,m=r.headerLabelHeight,g=this.state.scrollTop,y=n/(o-i),v="year"!==l;v&&!function(){var r=(0,c.getNextUnit)(l);(0,c.iterateTimes)(a,p,r,d,function(o,n){var s=Math.max(a,o.valueOf()),l=Math.min(p,n.valueOf()),d=Math.round((s.valueOf()-i)*y,-2),c=Math.round((l.valueOf()-i)*y,-2),m=c-d,g="fixed"===h?Math.round((i-a)*y)-1:0;t.push(u.default.createElement("div",{key:"top-label-"+o.valueOf(),href:"#",className:"rct-label-group","data-time":o,"data-unit":r,style:{left:d+g+"px",width:m+"px",height:f+"px",lineHeight:f+"px",cursor:"pointer"}},e.headerLabel(o,r,m)))})}(),(0,c.iterateTimes)(i,o,l,d,function(r,o){var n=Math.round((r.valueOf()-i)*y,-2),s=r.get("day"===l?"date":l),p=s===("day"===l?1:0),d=Math.round((o.valueOf()-r.valueOf())*y,-2),c=p?2:1,g="fixed"===h?Math.round((i-a)*y)-c+1:0,b=e.props.rctLabelClass+" rct-label "+(v?"":"rct-label-only")+" "+(p?"rct-first-of-type":"")+" ";t.push(u.default.createElement("div",{key:"label-"+r.valueOf(),href:"#",className:b,"data-time":r,"data-unit":l,style:{top:("year"===l?0:f)+"px",left:n+g+"px",width:d+"px",height:("year"===l?f+m:m)+"px",lineHeight:("year"===l?f+m:m)+"px",fontSize:(d>30?"14":d>20?"12":"10")+"px",cursor:"pointer"}},e.subHeaderLabel(r,l,d)))});var b=this.props.zIndex,T={height:f+m+"px",lineHeight:s+"px"};if("fixed"===h)T.position="fixed",T.width="100%",T.zIndex=b;else if("absolute"===h){var S=this.state.componentTop;g>=S&&(T.position="absolute",T.top=g-S+"px",T.width=n+"px",T.left="0")}return u.default.createElement("div",{ref:"header",key:"header",className:"rct-header",onTouchStart:this.touchStart,onTouchEnd:this.touchEnd,onClick:this.periodClick,style:T},t)}}]),t}(p.Component);h.propTypes={showPeriod:u.default.PropTypes.func.isRequired,canvasTimeStart:u.default.PropTypes.number.isRequired,canvasTimeEnd:u.default.PropTypes.number.isRequired,canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,visibleTimeStart:u.default.PropTypes.number.isRequired,visibleTimeEnd:u.default.PropTypes.number.isRequired,minUnit:u.default.PropTypes.string.isRequired,timeSteps:u.default.PropTypes.object.isRequired,width:u.default.PropTypes.number.isRequired,fixedHeader:u.default.PropTypes.oneOf(["fixed","absolute","none"]),zIndex:u.default.PropTypes.number,rctLabelClass:p.PropTypes.string,subHeaderLabelYearFormatShort:p.PropTypes.string.isRequired,subHeaderLabelYearFormatLong:p.PropTypes.string.isRequired,subHeaderLabelMonthFormatShort:p.PropTypes.string.isRequired,subHeaderLabelMonthFormatMedium:p.PropTypes.string.isRequired,subHeaderLabelMonthFormatLong:p.PropTypes.string.isRequired,subHeaderLabelDayFormatShort:p.PropTypes.string.isRequired,subHeaderLabelDayFormatMedium:p.PropTypes.string.isRequired,subHeaderLabelDayFormatMediumLong:p.PropTypes.string.isRequired,subHeaderLabelDayFormatLong:p.PropTypes.string.isRequired,subHeaderLabelHourFormatShort:p.PropTypes.string.isRequired,subHeaderLabelHourFormatLong:p.PropTypes.string.isRequired,subHeaderLabelMinuteFormatShort:p.PropTypes.string.isRequired,subHeaderLabelMinuteFormatLong:p.PropTypes.string.isRequired,headerLabelYearFormatShort:p.PropTypes.string.isRequired,headerLabelYearFormatLong:p.PropTypes.string.isRequired,headerLabelMonthFormatShort:p.PropTypes.string.isRequired,headerLabelMonthFormatMedium:p.PropTypes.string.isRequired,headerLabelMonthFormatMediumLong:p.PropTypes.string.isRequired,headerLabelMonthFormatLong:p.PropTypes.string.isRequired,headerLabelDayFormatShort:p.PropTypes.string.isRequired,headerLabelDayFormatLong:p.PropTypes.string.isRequired,headerLabelHourFormatShort:p.PropTypes.string.isRequired,headerLabelHourFormatMedium:p.PropTypes.string.isRequired,headerLabelHourFormatMediumLong:p.PropTypes.string.isRequired,headerLabelHourFormatLong:p.PropTypes.string.isRequired},h.defaultProps={fixedHeader:"none",zIndex:11,rctLabelClass:""},t.default=h},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(2),u=i(p),l=r(11),d=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.lineCount===this.props.lineCount&&e.minUnit===this.props.minUnit&&e.timeSteps===this.props.timeSteps&&e.fixedHeader===this.props.fixedHeader&&e.height===this.props.height&&e.headerHeight===this.props.headerHeight)}},{key:"render",value:function(){var e=this,t=this.props,r=t.canvasTimeStart,i=t.canvasTimeEnd,o=t.canvasWidth,n=t.minUnit,s=t.timeSteps,a=t.height,p=t.headerHeight,d=o/(i-r),c=[];return(0,l.iterateTimes)(r,i,n,s,function(t,i){var o=Math.round((t.valueOf()-r)*d,-2),s=t.get("day"===n?"date":n),l=s===("day"===n?1:0),h=l?2:1,f=Math.ceil((i.valueOf()-t.valueOf())*d)-h,m="fixed"===e.props.fixedHeader&&l?-1:0,g="rct-vl"+(l?" rct-vl-first":"")+("day"===n||"hour"===n||"minute"===n?" rct-day-"+t.day():"");c.push(u.default.createElement("div",{key:"line-"+t.valueOf(),className:g,style:{top:p+"px",left:o+m+"px",width:f+"px",height:a-p+"px"}}))}),u.default.createElement("div",{className:"rct-vertical-lines"},c)}}]),t}(p.Component);t.default=d,d.propTypes={canvasTimeStart:u.default.PropTypes.number.isRequired,canvasTimeEnd:u.default.PropTypes.number.isRequired,canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,lineCount:u.default.PropTypes.number.isRequired,minUnit:u.default.PropTypes.string.isRequired,timeSteps:u.default.PropTypes.object.isRequired,fixedHeader:u.default.PropTypes.string.isRequired},d.defaultProps={fixedHeader:"none",dayBackground:null}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(2),u=i(p),l=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.lineCount===this.props.lineCount&&e.groupHeights===this.props.groupHeights)}},{key:"render",value:function(){for(var e=this.props,t=e.lineCount,r=e.canvasWidth,i=e.groupHeights,o=e.headerHeight,n=[],s=o,a=0;a<t;a++)n.push(u.default.createElement("div",{key:"horizontal-line-"+a,className:a%2===0?"rct-hl-even":"rct-hl-odd",style:{top:s+"px",left:"0px",width:r+"px",height:i[a]-1+"px"}})),s+=i[a];return u.default.createElement("div",{className:"rct-horizontal-lines"},n)}}]),t}(p.Component);t.default=l,l.propTypes={canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,lineCount:u.default.PropTypes.number.isRequired},l.defaultProps={borderWidth:1}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(2),u=i(p),l=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=(new Date).getTime();if(e>this.props.canvasTimeStart&&e<this.props.canvasTimeEnd){var t=this.props.canvasWidth/(this.props.canvasTimeEnd-this.props.canvasTimeStart),r=Math.round((e-this.props.canvasTimeStart)*t),i=this.props.headerHeight,o=this.props.height-this.props.headerHeight,n={top:i+"px",left:r+"px",height:o+"px"};return u.default.createElement("div",{className:"rct-today",style:n})}return u.default.createElement("div",null)}}]),t}(p.Component);t.default=l,l.propTypes={canvasTimeStart:u.default.PropTypes.number.isRequired,canvasTimeEnd:u.default.PropTypes.number.isRequired,canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,lineCount:u.default.PropTypes.number.isRequired},l.defaultProps={}}])});
//# sourceMappingURL=react-calendar-timeline.min.js.map